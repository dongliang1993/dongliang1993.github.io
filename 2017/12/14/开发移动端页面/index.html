<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>开发移动端页面 | 我是你豆子欧巴</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">开发移动端页面</h1><a id="logo" href="/.">我是你豆子欧巴</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">开发移动端页面</h1><div class="post-meta">Dec 14, 2017<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><h2 id="一、像素-什么是像素"><a href="#一、像素-什么是像素" class="headerlink" title="一、像素 - 什么是像素"></a>一、像素 - 什么是像素</h2><p>像素：一个像素就是计算机屏幕所能显示一种特定颜色的最小区域。 </p>
<p>在web前端开发领域，像素有以下两层含义：</p>
<ol>
<li>设备像素：设备屏幕的物理像素，对于任何设备来讲物理像素的数量是固定的。</li>
<li>CSS像素：这是一个抽象的像素概念，它是为web开发者创造的。<br>如下图，是在缩放比例为1，即scale = 1的情况下，设备像素和CSS像素示意图</li>
</ol>
<p>当你给元素设置了 width: 200px 时，这个元素的宽度跨越了200个CSS像素。但是它并不一定跨越200个设备像素，至于会跨越多少个设备像素，就取决于手机屏幕的特性和用户的缩放了</p>
<p>苹果手机的视网膜屏幕，是一个高密度屏幕，它的像素密度是普通屏幕的2倍，所以当我们设置 width: 200px; 时，200个CSS像素跨越了400个设备像素</p>
<p>如果用户缩小页面，那么一个CSS像素会明显小于一个设备像素，这个时候 width: 200px; 这条样式中所设置的200个CSS像素跨越不了200个设备像素，如下图：</p>
<p>让我们来做一个总结</p>
<ol>
<li>web前端领域，像素分为设备像素和CSS像素</li>
<li>一个CSS像素的大小是可变的，比如用后缩放页面的时候，实际上就是在缩小或放大CSS像素，而设备像素无论大小还是数量都是不变的。</li>
</ol>
<h2 id="二、移动端的三个视口"><a href="#二、移动端的三个视口" class="headerlink" title="二、移动端的三个视口"></a>二、移动端的三个视口</h2><p>你一定写过这样一条样式：width: 25%; 但是你有想过给一个元素加上这样一条样式之后发生了什么吗？25%是基于谁的25%？明白的同学可能知道了：一个块元素默认的宽度是其父元素的100%，是基于起父元素的，所以25%指的是父元素宽度的25%，所以，body元素的默认宽度是html元素宽度的100%，那么你有没有想过html元素的宽度是基于谁的呢？这个时候，就要引出一个概念：初始包含块和视口了</p>
<p>记住一句话：视口是html的父元素，所以我们称视口为初始包含块。 这样你就明白了，html元素的百分比是基于视口的。</p>
<h2 id="第一个视口：布局视口"><a href="#第一个视口：布局视口" class="headerlink" title="第一个视口：布局视口"></a>第一个视口：布局视口</h2><p>在PC浏览器中，视口只有一个，并且 视口的宽度 = 浏览器窗口的宽度</p>
<p>在移动端，视口和浏览器窗口将不在关联，实际上，布局视口要比浏览器窗口大的多(在手机和平板中浏览器布局视口的宽度在768~1024像素之间)</p>
<p>可以通过以下JavaScript代码获取布局视口的宽度和高度：<br>document.documentElement.clientWidth<br>document.documentElement.clientHeight</p>
<h2 id="第二个视口：视觉视口"><a href="#第二个视口：视觉视口" class="headerlink" title="第二个视口：视觉视口"></a>第二个视口：视觉视口</h2><p>视觉视口可能要更好理解一些，他就是用户正在看到网站的区域，如下图：<br>window.innerWidth</p>
<h2 id="第三个视口：理想视口"><a href="#第三个视口：理想视口" class="headerlink" title="第三个视口：理想视口"></a>第三个视口：理想视口</h2><p>device-width 的值就是理想视口的宽度<br>理想视口的尺寸是不能改变的，由设备和浏览器决定，与设备的物理像素数存在着比例关系，这个比例就是设备像素比</p>
<p><meta name="viewport" content="width=device-width"><br>上面那段代码告诉浏览器：将布局视口的宽度设为理想视口。所以，上面代码中的width指的是布局视口的宽 device-width 实际上就是理想视口的宽度。<br>screen.width</p>
<p>可以使用 window.devicePixelRatio 获得dpr</p>
<h2 id="缩放比例也有默认的值，没有设置-initial-scale-时，浏览器会取适当的缩放比例使-布局视口正好铺满屏幕即有-布局视口尺寸-视觉视口尺寸"><a href="#缩放比例也有默认的值，没有设置-initial-scale-时，浏览器会取适当的缩放比例使-布局视口正好铺满屏幕即有-布局视口尺寸-视觉视口尺寸" class="headerlink" title="缩放比例也有默认的值，没有设置 initial-scale 时，浏览器会取适当的缩放比例使 布局视口正好铺满屏幕即有 布局视口尺寸 = 视觉视口尺寸"></a>缩放比例也有默认的值，没有设置 initial-scale 时，浏览器会取适当的缩放比例使 布局视口正好铺满屏幕即有 布局视口尺寸 = 视觉视口尺寸</h2><p>设计稿的宽换算为以 rem 为单位的 css 长度应为 (750/100) rem，同时设计稿的宽对应可视视口的宽，即有 (750/100) rem = 可视视口宽，1 rem = 可视视口宽 * (100/750)，(100/750)就是我们要的系数</p>
<p>好了，移动端的三个视口介绍完了，让我们总结一下：<br>1、在PC端，布局视口就是浏览器窗口<br>  2、在移动端，视口被分为两个：布局视口、视觉视口。<br>  3、移动端还有一个理想视口，它是布局视口的理想尺寸，即理想的布局视口。（注：理想视口的尺寸因设备和浏览器的不同而不同，但这对于我们来说无所谓）<br>  4、可以将布局视口的宽度设为理想视口</p>
<p>三、设备像素比(DPR)</p>
<p>下面你还需要了解一个概念，设备像素比(Device Pixel Ratio 简称：DPR)。<br>下面是设备像素比的计算公式<br>公式成立的大前提：（缩放比例为1）<br>设备像素比(DPR) = 设备像素个数 / 理想视口CSS像素个数(device-width)</p>
<p>与理想视口一样，设备像素比对于不同的设备是不同的，但是他们都是合理的，比如早起iphone的设备像素是320px，理想视口也是320px，所以早起iphone的DPR=1，而后来iphone的设备像素为640px，理想视口还是320px，所以后来iphone的DPR=2</p>
<ol>
<li><p>首先要看 PSD 原稿的尺寸，如果是 750 说明是按照设备像素设计的，如果是 375 说明是按照理想视口设计的</p>
</li>
<li><p>width=device-width  这段代码是让布局视口的尺寸等于理想视口。根据公式(缩放比例为1)：设备像素比（DPR） = 设备像素个数 / 理想视口像素个数（device-width）因为iPhone6的DPR（设备像素比）为2，设备像素为750，所以iPhone6的理想视口尺寸为375px。所以上面代码最终导致的是：使我们布局视口的宽度变成了375px。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>CSS中编写的样式尺寸是基于布局视口计算的</p>
</li>
</ol>
<p>如果我们能将布局视口的尺寸设置为和设备像素尺寸相等的话，这样我们就保证了设计图与页面的1:1关系，那么我们就可以直接使用psd中测量的尺寸了，然后在其他尺寸的手机中，我们进行等比缩放就ok了。</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2017/12/14/图解HTTP-阅读笔记/">图解HTTP 阅读笔记</a><a class="next" href="/2017/12/13/redux-源码分析-一/">redux 源码分析 (一)</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/js/" style="font-size: 15px;">js</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/05/14/一条前端咸鱼在杭州两年的总结/">一条前端咸鱼在杭州两年的总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/23/【笔记】事件/">【笔记】事件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/12/面向对象编程-笔记/">面向对象编程 -- 笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/12/同源策略-笔记/">同源策略--笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/12/history对象-笔记/">history 对象 -- 笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/11/前端路由浅解析/">前端路由浅解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/24/react-基础知识/">react 基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/07/js-设计模式笔记/">js 设计模式笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/06/promise-笔记/">promise 笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/06/Flex-布局笔记/">Flex 布局笔记</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://miaoyuxinbaby.github.io/" title="yui" target="_blank">yui</a><ul></ul><a href="http://www.ruhook.com/" title="肥宅七六" target="_blank">肥宅七六</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">我是你豆子欧巴.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>